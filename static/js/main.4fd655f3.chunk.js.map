{"version":3,"sources":["icons sync /.svg$","icons/labels.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/statistics.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","views/money/CategorySection.tsx","components/Input.tsx","views/money/NotesSection.tsx","views/money/NumberPadSection.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTag.tsx","views/money/TagsSection.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","components/Button.tsx","views/Tags.tsx","views/NoMatch.tsx","components/Center.tsx","components/Space.tsx","views/tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","className","cs","onClick","name","xlinkHref","NavWrapper","styled","div","Nav","to","activeClassName","Wrapper","Main","Layout","children","Swapper","section","categoryMap","categoryList","CategorySection","category","value","c","onChange","Label","label","Input","inputRef","useRef","ref","defaultValue","note","type","placeholder","onBlur","current","NotesSection","NumberPadSection","useState","toString","output","setOutput","text","target","innerText","length","slice","indexOf","parseInt","onOk","parseFloat","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","deps","count","useEffect","useTag","tags","setTags","localTags","parse","defaultTags","findTag","filter","tag","updateTag","index","cloneTags","splice","deleteTag","addTag","tagName","prompt","getName","t","TagsSection","selectedTagIds","tagId","alert","useRecords","records","setRecords","addRecord","newRecord","amount","tagIds","record","createdAt","Date","toISOString","MyLayout","defaultFormData","Money","selected","setSelected","obj","CategoryWrapper","Item","Header","h3","Statistics","setCategory","hash","r","key","day","format","push","array","entries","sort","a","b","date","reduce","result","span","concat","Button","button","ul","Center","Space","Tags","NoMatch","Topbar","header","InputWrapper","Tag","useParams","history","useHistory","goBack","tagContent","App","path","exact","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4fd655f3.chunk.js","sourcesContent":["var map = {\n\t\"./labels.svg\": 39,\n\t\"./left.svg\": 40,\n\t\"./money.svg\": 41,\n\t\"./right.svg\": 42,\n\t\"./statistics.svg\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 38;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"labels\",\n  \"use\": \"labels-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"labels\\\"><defs><style></style></defs><path d=\\\"M848.21 887.42a21.16 21.16 0 00-3.18 2.75l.26-.18c.9-.78 1.84-1.53 2.7-2.35zM273.84 133.9c-.9.78-1.84 1.53-2.7 2.35l-.22.23a22.36 22.36 0 003.18-2.76z\\\" /><path d=\\\"M896.9 100.1C878 76.63 847.21 65.06 817.65 65H300.66c-35.32.12-71.67 17.81-88.74 49.75-7.95 14.88-10.67 30.76-10.67 47.34v498.38h-11.36a72.14 72.14 0 00-48.1 18.27c-11.27 9.93-17.11 23.13-21.52 37.14a289.15 289.15 0 00-8.68 35c-5.42 29.94-7.13 60.44-3.68 90.71 2.92 25.69 6.21 55.93 21.76 77.53 17.63 24.5 44.59 39.39 75 39.69H720c33 0 66 .27 99 0 42.73-.34 87-27.5 96.54-71.26 2-9.12 2.34-17.88 2.34-27V159c0-22.08-7.12-41.72-20.98-58.9zm-629.28 39.72a23.88 23.88 0 001.42-2c.1.18-.63 1.07-1.42 2zm-83.21 582a3.2 3.2 0 00.27-.25zm383 176.42h-298c-21.43 0-42.86.15-64.29 0-1.5 0-3-.06-4.48-.16a65.12 65.12 0 01-7.91-2.17 60.58 60.58 0 01-5.77-3.26l-.53-.36c-1-.87-2-1.69-2.93-2.6s-2.07-2.17-3.07-3.28l-.07-.11a59 59 0 01-3.76-6.55c-4-11-6.06-23.09-7.72-34.76a292.2 292.2 0 01-.22-70c2.39-16 5.86-32.46 11.44-47.74.49-.93 1-1.84 1.54-2.77l-.22.18.29-.3.38-.68.1-.17.08-.06 1-.6c.28-.24.54-.5.81-.75h.08l-.51.53c.47-.28.94-.55 1.42-.81.89-.27 1.78-.52 2.68-.73 5-.25 10 0 14.9 0l40.8-.07 135.09-.25 164.34-.29 142.52-.25c8.7 0 17.4 0 26.11.11-17.93 57.57-18.77 119.91-.22 177.95H567.42zm279.1-9.12l-1.23.83c-.42.36-.83.73-1.22 1.11.35-.34.66-.65 1-.93l-.71.48a70 70 0 01-7.51 4.22 79.82 79.82 0 01-11.7 3.17c-11.76 1-23.87.25-35.58.25h-14.1A274.59 274.59 0 01760 840.2a270.78 270.78 0 010-62.34 272.91 272.91 0 0116.68-60.8c1.78-4 3.65-8 5.62-12 4.93-9.88 5.76-20.76 0-30.59a30.51 30.51 0 00-26.16-15l-68.61.12-158.41.28-179.68.32-87.55.16v-443c0-20.35-.17-40.71 0-61.06 0-1.21.06-2.42.13-3.62a59.56 59.56 0 011.76-6.31 57.91 57.91 0 013.61-6.18c1.17-1.27 2.33-2.55 3.57-3.75-.53.27.46-.92 1.69-1.74l1.23-.84c.42-.36.83-.73 1.22-1.11-.35.34-.66.65-1 .93l.71-.48a70 70 0 017.51-4.22 80.1 80.1 0 0111.38-3.1c6.14-.46 12.32-.31 18.47-.31h445.72c20.25 0 40.5-.13 60.75 0 2.24 0 4.46.12 6.68.29a80.58 80.58 0 0111.51 3.15 69 69 0 016.93 3.85c.34.21 1 .65 1.64 1.13.93.79 2.15 1.82 2.59 2.24 1.24 1.2 2.45 2.44 3.59 3.73v.05c1.38 2.12 2.66 4.27 3.81 6.49a61.34 61.34 0 011.73 6.24c.46 6.81.12 13.77.12 20.52v694.01c0 1.31 0 2.61-.13 3.91a59.56 59.56 0 01-1.76 6.31 57.91 57.91 0 01-3.61 6.18c-1.17 1.27-2.33 2.55-3.57 3.76.57-.28-.42.91-1.65 1.74zm5-5.08c-.3.4-1.46 1.92-1.42 2-.09-.11.63-1.04 1.42-1.96z\\\" /><path d=\\\"M183.66 722.65l-.38.24c-.22.19-.45.38-.65.59s-.59.61-.87.92l-.07.12c.47-.4 1.12-1 1.97-1.87zM509.6 318.81H769c15.85 0 31-13.94 30.3-30.3s-13.3-30.3-30.3-30.3H509.6c-15.85 0-31 13.94-30.3 30.3s13.31 30.3 30.3 30.3zm266.7 134.55H516.91c-15.85 0-31 13.94-30.3 30.3S499.92 514 516.91 514H776.3c15.85 0 31-13.94 30.3-30.31s-13.31-30.33-30.3-30.33zM337.62 288.51a30.3 30.3 0 1060.6 0 30.3 30.3 0 10-60.6 0zM337.62 483.66a30.3 30.3 0 1060.6 0 30.3 30.3 0 10-60.6 0z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M280.947 512.143l40.18 40.204.171-.17 381.576 381.606 40.18-40.18L361.473 512l381.58-381.607-40.18-40.175-421.926 421.926zm0 0z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M503.855 466.618c-6.982 0-15.128-2.327-20.946-8.145l-110.545-111.71c-11.637-11.636-11.637-30.254 0-40.727 11.636-11.636 30.254-11.636 40.727 0L524.8 417.746c11.636 11.636 11.636 30.254 0 40.727-5.818 4.654-12.8 8.145-20.945 8.145z\\\" /><path d=\\\"M520.145 466.618c-6.981 0-15.127-2.327-20.945-8.145-11.636-11.637-11.636-30.255 0-40.728l111.71-111.709c11.635-11.636 30.254-11.636 40.726 0 11.637 11.637 11.637 30.255 0 40.728L539.927 458.473c-4.654 4.654-12.8 8.145-19.782 8.145z\\\" /><path d=\\\"M663.273 486.4H360.727c-16.29 0-29.09-12.8-29.09-29.09s12.8-29.092 29.09-29.092h302.546c16.29 0 29.09 12.8 29.09 29.091s-12.8 29.091-29.09 29.091zm0 137.31H360.727c-16.29 0-29.09-12.8-29.09-29.092s12.8-29.09 29.09-29.09h302.546c16.29 0 29.09 12.8 29.09 29.09s-12.8 29.091-29.09 29.091z\\\" /><path d=\\\"M512 750.545c-16.29 0-29.09-12.8-29.09-29.09V457.309c0-16.29 12.8-29.09 29.09-29.09s29.09 12.8 29.09 29.09v264.146c0 16.29-12.8 29.09-29.09 29.09z\\\" /><path d=\\\"M512 1000.727c-269.964 0-488.727-218.763-488.727-488.727S242.036 23.273 512 23.273 1000.727 242.036 1000.727 512 781.964 1000.727 512 1000.727zm0-919.272C274.618 81.455 81.455 274.618 81.455 512S274.618 942.545 512 942.545 942.545 749.382 942.545 512 749.382 81.455 512 81.455z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M743.053 511.857l-40.18-40.204-.171.17L321.126 90.218l-40.18 40.18L662.527 512l-381.58 381.607 40.18 40.175 421.926-421.926zm0 0z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"statistics\",\n  \"use\": \"statistics-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"statistics\\\"><defs><style></style></defs><path d=\\\"M1008.242 940.715c0 20.992-18.432 38.115-40.05 38.115H62.18a38.912 38.912 0 01-39.424-38.115c0-21.05 17.806-38.173 39.424-38.173h906.069c21.618 0 40.05 17.18 40.05 38.116M896.341 190.407c22.244 0 40.05 17.18 40.05 38.116v578.56c0 21.049-17.806 38.229-40.05 38.229h-166.57a38.969 38.969 0 01-39.424-38.172V228.58c0-21.05 17.806-38.173 39.424-38.173h166.57zm-127.146 578.56h87.722V266.638h-87.722v502.33zM598.812 323.925c21.618 0 39.424 17.18 39.424 38.116V807.14a38.969 38.969 0 01-39.424 38.115H431.56a38.969 38.969 0 01-39.367-38.115V362.098c0-21.05 17.806-38.173 39.367-38.173h167.253zM471.666 769.024h87.097V400.27h-87.097v368.754zM300.6 56.889c21.618 0 40.05 17.18 40.05 38.115V807.14c0 20.992-18.432 38.115-40.05 38.115H133.404A38.969 38.969 0 0193.98 807.14V95.004c0-21.048 17.807-38.172 39.424-38.172h167.197zM173.454 769.024h87.097V133.12h-87.097v635.847z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","\r\n\r\nimport cs from 'classnames';\r\n\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) =>\r\n  requireContext.keys().forEach(requireContext);\r\ntry {\r\n  importAll(require.context(\"icons\", true, /\\.svg$/));\r\n} catch (error) {\r\n  console.log(error);\r\n}\r\n\r\ntype Props = {\r\n  name?: string;\r\n  onClick?:()=>void;\r\n  className?:string;\r\n};\r\n\r\nconst Icon = (props: Props) => {\r\n  return (\r\n    <svg className={cs('icon', props.className)} onClick={props.onClick}>\r\n      {props.name && <use xlinkHref={'#' + props.name}/>}\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Icon;\r\n","import styled from \"styled-components\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Icon from \"components/Icon\";\r\nimport React from \"react\";\r\n\r\nconst NavWrapper = styled.div`\r\n  line-height: 24px;\r\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\r\n  > ul {\r\n    display: flex;\r\n    > li {\r\n      width: 33.3%;\r\n      text-align: center;\r\n      padding: 4px 0;\r\n      > a {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        &.selected {\r\n          color: red;\r\n          > .icon {\r\n            fill: red;\r\n          }\r\n        }\r\n        > .icon {\r\n          height: 24px;\r\n          width: 24px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst Nav = () => {\r\n  return (\r\n    <NavWrapper>\r\n      <ul>\r\n        <li>\r\n          <NavLink to=\"/detail\" activeClassName=\"selected\">\r\n            <Icon name=\"money\" />\r\n            明细\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n            <svg className=\"icon\">\r\n              <use xlinkHref=\"#labels\" />\r\n            </svg>\r\n            标签\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/money\" activeClassName=\"selected\">\r\n            <svg className=\"icon\">\r\n              <use xlinkHref=\"#statistics\" />\r\n            </svg>\r\n            记账\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </NavWrapper>\r\n  );\r\n};\r\nexport default Nav;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Nav from \"./Nav\";\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n`;\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`;\r\n\r\nconst Layout = (props:any) => {\r\n\r\n  return (\r\n    <Wrapper >\r\n      <Main className={props.className} >{props.children}</Main>\r\n      <Nav />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default Layout;\r\n","import styled from \"styled-components\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst Swapper = styled.section`\r\n  font-size: 24px;\r\n\r\n  > ul {\r\n    display: flex;\r\n    background: #c4c4c4;\r\n\r\n    > li {\r\n      width: 50%;\r\n      text-align: center;\r\n      padding: 16px 0;\r\n      position: relative;\r\n\r\n      &.selected::after {\r\n        content: \"\";\r\n        display: block;\r\n        height: 3px;\r\n        background: #333;\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n        left: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst categoryMap = {'-': '支出', '+': '收入'};\r\ntype Keys=keyof typeof categoryMap;\r\nconst categoryList:Keys[]=['-','+']\r\ntype Props = {\r\n    value: '-' | '+',\r\n    onChange: (c: '-' | '+') => void;\r\n}\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n\r\n    const category=props.value\r\n    return (\r\n        <Swapper>\r\n            <ul>\r\n                {categoryList.map((c) => {\r\n                    return <li key={c} className={c===category?'selected':''} onClick={()=>{props.onChange(c)}}>{categoryMap[c]}</li>\r\n                })}\r\n            </ul>\r\n        </Swapper>\r\n    )\r\n}\r\nexport {CategorySection};\r\n","import React, {useRef} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n    display:flex;\r\n    align-items: center;\r\n\r\n    > span { margin-right: 16px; white-space: nowrap; }\r\n    > input {\r\n   \r\n      display:block;\r\n      width: 100%;\r\n      height: 44px;\r\n      background: none;\r\n      border: none;\r\n    }\r\n`;\r\n\r\ntype Props = {\r\n    label: string;\r\n    placeholder:string;\r\n    note:string;\r\n    onChange: (value: string) => void;\r\n};\r\nconst Input: React.FC<Props> = (props) => {\r\n    // const note=props.value\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n    const onBlur = () => {\r\n        inputRef.current && props.onChange(inputRef.current.value)\r\n    }\r\n\r\n    return (\r\n        <Label>\r\n            <span>{props.label}</span>\r\n            <input ref={inputRef} defaultValue={props.note} type=\"text\" placeholder={props.placeholder}\r\n                   onBlur={onBlur}/>\r\n        </Label>\r\n    );\r\n};\r\n\r\nexport {Input};","import styled from \"styled-components\";\r\nimport React, {useRef, useState} from \"react\";\r\nimport {Input} from \"../../components/Input\";\r\n\r\nconst Swapper = styled.section`\r\n  background: #f5f5f5;\r\n  padding: 0 16px;\r\n  font-size: 14px;\r\n\r\n  > label {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    > span {\r\n      margin-right: 16px;\r\n      white-space: nowrap;\r\n    }\r\n\r\n    > input {\r\n      display: block;\r\n      width: 100%;\r\n      height: 72px;\r\n      background: none;\r\n      border: none;\r\n    }\r\n  }\r\n`;\r\ntype Props = {\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n}\r\nconst NotesSection: React.FC<Props> = (props) => {\r\n    const {value,onChange}=props\r\n    return (\r\n        <Swapper>\r\n            <Input label=\"备注\"  note={value}  onChange={onChange} placeholder=\"请输入内容\"></Input>\r\n        </Swapper>\r\n    )\r\n}\r\n\r\n\r\nexport {NotesSection};","import styled from \"styled-components\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst Swapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  > .output {\r\n    background: white;\r\n    font-size: 36px;\r\n    height:72px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, 0.25),\r\n    inset 0 5px 5px -5px rgba(0, 0, 0, 0.25);\r\n  }\r\n\r\n  > .pad {\r\n    > button {\r\n      font-size: 18px;\r\n      float: left;\r\n      width: 25%;\r\n      height: 64px;\r\n      border: none;\r\n\r\n      &.ok {\r\n        height: 128px;\r\n        float: right;\r\n      }\r\n\r\n      &.zero {\r\n        width: 50%;\r\n      }\r\n\r\n      &:nth-child(1) {\r\n        background: #f2f2f2;\r\n      }\r\n\r\n      &:nth-child(2),\r\n      &:nth-child(5) {\r\n        background: #e0e0e0;\r\n      }\r\n\r\n      &:nth-child(3),\r\n      &:nth-child(6),\r\n      &:nth-child(9) {\r\n        background: #d3d3d3;\r\n      }\r\n\r\n      &:nth-child(4),\r\n      &:nth-child(7),\r\n      &:nth-child(10) {\r\n        background: #c1c1c1;\r\n      }\r\n\r\n      &:nth-child(8),\r\n      &:nth-child(11),\r\n      &:nth-child(13) {\r\n        background: #b8b8b8;\r\n      }\r\n\r\n      &:nth-child(12) {\r\n        background: #9a9a9a;\r\n      }\r\n\r\n      &:nth-child(14) {\r\n        background: #a9a9a9;\r\n      }\r\n    }\r\n  }\r\n`;\r\ntype Props = {\r\n    value:number;\r\n    onOk: (value:number) => void;\r\n    onChange:(amount:number)=>void;\r\n}\r\n\r\n\r\n\r\n\r\nconst NumberPadSection: React.FC <Props>= (props) => {\r\n   const [output,setOutput]=useState(props.value.toString())\r\n    const handleNumber = (e: React.MouseEvent) => {\r\n\r\n\r\n        const text = (e.target as HTMLButtonElement).innerText\r\n        if (output.length >= 10) {return}\r\n        switch (text) {\r\n            case '0':\r\n            case '1':\r\n            case '2':\r\n            case '3':\r\n            case '4':\r\n            case '5':\r\n            case '6':\r\n            case '7':\r\n            case '8':\r\n            case '9':\r\n                if (output.slice(0, 1) === \"0\"&&output.indexOf('.') === -1) {\r\n                    setOutput(text)\r\n                    props.onChange(parseInt(text))\r\n                } else {\r\n                    setOutput(output + text)\r\n                    props.onChange(parseInt(output + text))\r\n                }\r\n                break;\r\n            case '.' :\r\n                if (output.indexOf('.') > -1) {\r\n                } else {\r\n                    setOutput(output + text)\r\n                    props.onChange(parseInt(output + text))\r\n                }\r\n                break;\r\n            case '删除':\r\n                if (output.length <= 1) {\r\n                    setOutput('0')\r\n                    props.onChange(0)\r\n                } else {\r\n                    setOutput(output.slice(0, -1))\r\n                    props.onChange(parseInt(output.slice(0, -1)))\r\n                }\r\n                break;\r\n            case'清空':\r\n                setOutput('0')\r\n                props.onChange(0)\r\n                break;\r\n            case 'OK':\r\n                props.onOk(parseFloat(output))\r\n                setOutput('0')\r\n\r\n                break;\r\n            default:\r\n                return '';\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <Swapper>\r\n            <div className=\"output\" >{output}</div>\r\n            <div className=\"pad clearfix\" onClick={handleNumber} >\r\n                <button>1</button>\r\n                <button>2</button>\r\n                <button>3</button>\r\n                <button>删除</button>\r\n                <button>4</button>\r\n                <button>5</button>\r\n                <button>6</button>\r\n                <button>清空</button>\r\n                <button>7</button>\r\n                <button>8</button>\r\n                <button>9</button>\r\n                <button className=\"ok\">OK</button>\r\n                <button className=\"zero\">0</button>\r\n                <button className=\"dot\">.</button>\r\n            </div>\r\n        </Swapper>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport {NumberPadSection};","let id = parseInt(window.localStorage.getItem('idMax') || '0');\r\nconst createId=()=>{\r\n     id+=1\r\n    window.localStorage.setItem('idMax', JSON.stringify(id))\r\n    console.log(id,'id')\r\n    return id\r\n}\r\n\r\nexport {createId}","import {useEffect, useRef} from \"react\";\r\n\r\nexport const useUpdate=(fn:()=>void,deps:any[])=>{\r\n    let count=useRef(0)\r\n    useEffect(()=>{\r\n        count.current+=1\r\n    })\r\n    useEffect(()=>{\r\n        if(count.current>1){\r\n            fn()}\r\n    },[deps])\r\n\r\n\r\n\r\n\r\n}","import {useEffect, useState,useRef} from 'react';\r\nimport {createId} from \"../lib/createId\";\r\nimport {useUpdate} from \"./useUpdate\";\r\n\r\n\r\n\r\nconst useTag = () => {\r\n    const [tags, setTags] = useState<{'id':number,'name':string}[]>([]);\r\n    console.log(tags,'tags')\r\n    useEffect(()=>{\r\n        let localTags=JSON.parse(localStorage.getItem('tags')||'[]')\r\n        if(localTags.length===0){\r\n            const defaultTags = [{'id': createId(), 'name': '衣'}, {'id': createId(), 'name': '食'}, {'id': createId(), 'name': '住'}, {'id': createId(), 'name': '行'}]\r\n            setTags(defaultTags)\r\n        }else{ setTags(localTags)}\r\n\r\n    },[])\r\n      useUpdate(()=>{localStorage.setItem('tags',JSON.stringify(tags))},[tags])\r\n\r\n   const findTag=(id:string)=>{ return tags.filter((tag)=>{return tag.id ===parseInt(id)})[0]}\r\n    const getName = (id: number) => {\r\n        const tag = tags.filter(t => t.id === id)[0];\r\n        return tag ? tag.name : '';\r\n    };\r\n   const updateTag=(id:string,{name:name}:{name:string})=>{\r\n       const index= tags.indexOf(findTag(id)) //索引\r\n       const cloneTags= JSON.parse(JSON.stringify(tags))\r\n       cloneTags.splice(index,1,{'id':parseInt(id),'name':name})\r\n       setTags(cloneTags)\r\n   }\r\n    const deleteTag = (id: number) => {\r\n        setTags(tags.filter(tag => tag.id !== id));\r\n    };\r\n    const addTag = () => {\r\n        console.log('hi');\r\n        const tagName = window.prompt('新标签的名称为');\r\n        if (tagName !== null && tagName !== '') {\r\n            setTags([...tags, {id: createId(), name: tagName}]);\r\n        }\r\n    };\r\n\r\n    return {tags, setTags,findTag,updateTag,deleteTag,addTag,getName}\r\n}\r\nexport {useTag}","import styled from \"styled-components\";\r\nimport React, {useState} from \"react\";\r\nimport {useTag}  from \"hooks/useTag\"\r\nimport {create} from \"domain\";\r\nimport {createId} from \"../../lib/createId\";\r\nconst Wrapper = styled.section`\r\n  background: #ffffff;\r\n  padding: 12px 16px;\r\n  display: flex;\r\n  flex-grow: 1;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n  > ol {\r\n    margin: 0 -12px;\r\n    > li {\r\n      background: #d9d9d9;\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n      &.selected{\r\n        background: red;\r\n      }\r\n    }\r\n  }\r\n  > button {\r\n    background: none;\r\n    border: none;\r\n    padding: 2px 4px;\r\n    border-bottom: 1px solid #333;\r\n    color: #666;\r\n    margin-top: 8px;\r\n  }\r\n`;\r\ntype Props = {\r\n    value: number[];\r\n    onChange: (selected: number[]) => void;\r\n}\r\nconst TagsSection:React.FC<Props>=(props)=>{\r\n    const {tags,setTags}=useTag()\r\n\r\n    const selectedTagIds=props.value\r\n\r\n    const onChange={props}\r\n\r\n    const onTagToggle=(tagId:number)=>{\r\n      const index=selectedTagIds.indexOf(tagId)\r\n     if(index>=0){\r\n         props.onChange([])\r\n     }\r\n     else{\r\n         props.onChange([...selectedTagIds,tagId])\r\n     }\r\n    }\r\n    const onAddTag=()=>{\r\n        const tagName = window.prompt('新标签的名称为');\r\n\r\n        if (tagName !== null&&tags.map(tag=>tag.name).indexOf(tagName)<0) {\r\n            setTags([...tags,{'id':createId(),'name':tagName}]);\r\n        }else{\r\n            window.alert('重复了')\r\n        }\r\n    }\r\n    const getClass = (tagId: number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : '';\r\nreturn(\r\n    <Wrapper>\r\n    <ol>{tags.map((tag)=>(<li key={tag.id}  onClick={()=>{onTagToggle(tag.id)}}\r\n        className={getClass(tag.id)}>\r\n        {tag.name}\r\n        </li>\r\n    ))\r\n    }\r\n\r\n    </ol>\r\n    <button onClick={onAddTag}>新增标签</button>\r\n    </Wrapper>\r\n)\r\n}\r\n\r\nexport{TagsSection};","import {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nexport type RecordItem = {\r\n    tagIds: number[]\r\n    note: string\r\n    category: '+' | '-'\r\n    amount: number\r\n    createdAt: string // ISO 8601\r\n}\r\ntype newRecordItem = Omit<RecordItem, 'createdAt'>\r\n\r\nexport const useRecords = () => {\r\n    const [records, setRecords] = useState<RecordItem[]>([]);\r\n    useEffect(() => {\r\n        setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\r\n    }, []);\r\n    useUpdate(() => {\r\n        window.localStorage.setItem('records', JSON.stringify(records));\r\n    }, [records]);\r\n\r\n    const addRecord = (newRecord: newRecordItem) => {\r\n        console.log(newRecord)\r\n        if (newRecord.amount <= 0) {\r\n            alert('请输入金额');\r\n            return false;\r\n        }\r\n        if (newRecord.tagIds.length === 0) {\r\n            alert('请选择标签');\r\n            return false;\r\n        }\r\n        const record = {...newRecord, createdAt: (new Date()).toISOString()};\r\n        setRecords([...records, record]);\r\n        return true;\r\n    };\r\n\r\n\r\n    return {records, addRecord};\r\n};\r\n","import Layout from \"components/Layout\";\r\nimport styled from \"styled-components\";\r\nimport {CategorySection} from \"./money/CategorySection\";\r\nimport {NotesSection} from \"./money/NotesSection\";\r\nimport {NumberPadSection} from \"./money/NumberPadSection\";\r\nimport {TagsSection} from \"./money/TagsSection\";\r\nimport {useState} from \"react\";\r\nimport {useRecords} from \"../hooks/useRecords\";\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\ntype Category = '-' | '+'\r\n\r\n\r\nconst defaultFormData = {\r\n    tagIds: [] as number[],\r\n    note: '',\r\n    category: '-' as Category,\r\n    amount: 0\r\n};\r\nconst Money = () => {\r\n    const [selected, setSelected] = useState(defaultFormData);\r\n    const {records, addRecord} = useRecords();\r\n    const onChange = (obj: Partial<typeof selected>) => {\r\n        setSelected({...selected, ...obj});\r\n    };\r\n    console.log(selected,'selected')\r\n    const submit = () => {\r\n        if (addRecord(selected)) {\r\n            alert('保存成功');\r\n            setSelected(defaultFormData);\r\n        }\r\n    };\r\n    return (\r\n        <MyLayout>\r\n            {JSON.stringify(selected)}\r\n            <TagsSection value={selected.tagIds} onChange={(tagIds) => {\r\n                onChange({tagIds})\r\n            }}/>\r\n            <NotesSection value={selected.note} onChange={(note) => {\r\n                onChange({note})\r\n            }}/>\r\n            <CategorySection value={selected.category} onChange={category => onChange({category})}/>\r\n            <NumberPadSection value={selected.amount}\r\n                              onChange={amount => onChange({amount})}\r\n                              onOk={submit}\r\n            />\r\n        </MyLayout>\r\n    );\r\n};\r\n\r\nexport default Money;\r\n","import Layout from '../components/Layout';\r\n// import React, {ReactNode, useState} from 'react';\r\n\r\nimport styled from 'styled-components';\r\nimport {CategorySection} from \"./money/CategorySection\";\r\nimport {ReactNode, useState} from \"react\";\r\n// import {RecordItem, useRecords} from '../hooks/useRecords';\r\nimport {useTag} from \"../hooks/useTag\";\r\nimport {RecordItem, useRecords} from \"../hooks/useRecords\";\r\nimport {stringify} from \"querystring\";\r\n\r\nimport day from 'dayjs';\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background:white;\r\n`;\r\n\r\nconst Item = styled.div`\r\n  display:flex;\r\n  justify-content: space-between;\r\n  background: white;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  > .note{\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color: #999;\r\n  }\r\n`;\r\nconst Header = styled.h3`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n`;\r\n\r\nfunction Statistics() {\r\n   const [category,setCategory]=useState<'-'|'+'>('-')\r\n    const {records} = useRecords();\r\n\r\n    const {getName} = useTag();\r\n    const hash:{[K:string]:RecordItem[]}={} //{'2021-1-26':[item,item],'2021-1-26':[item,item]}\r\n    const selectRecords=records.filter((r)=>{return r.category===category})\r\n    selectRecords.forEach((r)=>{\r\n        const key = day(r.createdAt).format('YYYY年MM月DD日');\r\n        if(!(key in hash)){\r\n            hash[key]=[]\r\n        }\r\n        hash[key].push(r)}\r\n\r\n    )\r\n    const array=Object.entries(hash).sort((a,b)=>{\r\n        if (a[0] === b[0]) return 0;\r\n        if (a[0] > b[0]) return -1;\r\n        if (a[0] < b[0]) return 1;\r\n        return 0;\r\n    })\r\n    console.log(array)\r\n\r\n    const onChange=(category:'-'|'+')=>{\r\n        setCategory(category)\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <Layout>\r\n            <CategoryWrapper>\r\n                <CategorySection value={category}\r\n                                 onChange={value => setCategory(value)}/>\r\n            </CategoryWrapper>\r\n            {array.map(([date, records]) => <div>\r\n                <Header>\r\n                    {date}\r\n                </Header>\r\n                <div>\r\n                    {records.map(r => {\r\n                        return <Item>\r\n                            <div className=\"tags oneLine\">\r\n                                {r.tagIds\r\n                                    .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                                    .reduce((result, span, index, array) =>\r\n                                        result.concat(index < array.length - 1 ? [span, '，'] : [span]), [] as ReactNode[])\r\n                                }\r\n                            </div>\r\n                            {r.note && <div className=\"note\">\r\n                                {r.note}\r\n                            </div>}\r\n                            <div className=\"amount\">\r\n                                ￥{r.amount}\r\n                            </div>\r\n                        </Item>;\r\n                    })}\r\n                </div>\r\n            </div>)}\r\n        </Layout>\r\n    );\r\n}\r\n\r\n\r\nexport default Statistics;\r\n","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px; border: none; padding: 8px 12px;\r\n  background: #f60; border-radius: 4px;\r\n  color: white;\r\n`;\r\n\r\nexport {Button}","import Layout from \"components/Layout\";\r\nimport Icon from \"components/Icon\";\r\nimport styled from \"styled-components\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useTag} from \"hooks/useTag\"\r\nimport {Button} from 'components/Button';\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n`;\r\nconst Swapper = styled.ul`\r\n  font-size: 16px;\r\n  background: white;\r\n\r\n  > li {\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin-left: 16px;\r\n\r\n    > a {\r\n      padding: 12px 16px 12px 0;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n\r\n  }\r\n`;\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`;\r\n\r\n\r\nconst Tags = () => {\r\n    const {tags, addTag} = useTag()\r\n    console.log('tags',tags)\r\n\r\n    return (\r\n        <MyLayout>\r\n            <Swapper>\r\n                {tags.map((tag) => {\r\n                    return <li className=\"oneLine\" key={tag.id}><Link to={`/tags/${tag.id}`}><span>{tag.id}{tag.name}</span> <Icon name=\"right\"></Icon></Link>\r\n                    </li>\r\n                })}\r\n            </Swapper>\r\n            <Center>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Button onClick={addTag}>新增标签</Button>\r\n            </Center>\r\n        </MyLayout>\r\n    );\r\n};\r\n\r\nexport default Tags;\r\n","const NoMatch = () => {\r\n  return <h2>明细</h2>;\r\n};\r\n\r\nexport default NoMatch;\r\n","\r\nimport styled from 'styled-components';\r\n\r\nconst Center = styled.div`\r\n  display:flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport {Center};","import styled from 'styled-components';\r\n\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`;\r\n\r\nexport {Space};","import React from 'react';\r\nimport {useTag} from \"../hooks/useTag\";\r\nimport {\r\n    useHistory,\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport Icon from 'components/Icon';\r\nimport {Button} from 'components/Button';\r\nimport styled from 'styled-components';\r\nimport Layout from \"../components/Layout\";\r\nimport {Input} from \"components/Input\";\r\nimport {Center} from 'components/Center';\r\nimport {Space} from 'components/Space';\r\n\r\ntype Params = {\r\n    'id': string\r\n}\r\n\r\nconst Topbar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: white;\r\n`;\r\nconst InputWrapper = styled.div`\r\n  background: white;\r\n  padding: 0px 16px;\r\n  margin-top: 8px;\r\n\r\n`;\r\n\r\n\r\nconst Tag: React.FC = () => {\r\n    const {findTag, updateTag,deleteTag} = useTag()\r\n    let {id} = useParams<Params>();\r\n    const history = useHistory()\r\n    const tag = findTag(id);\r\n    const onChange = (tagName: string) => {\r\n        updateTag(id, {name: tagName})\r\n    }\r\n    const onClickBack = () => {\r\n        history.goBack()\r\n    }\r\n    const tagContent = (tag: { id: number; name: string }) => (\r\n        <div>\r\n\r\n            <InputWrapper>\r\n                <Input label=\"标签名\" placeholder=\"标签名\" note={findTag(id).name} onChange={onChange}/>\r\n            </InputWrapper>\r\n\r\n            <Center>\r\n                <Space/>\r\n                <Space/>\r\n                <Space/>\r\n                <Button onClick={() => {\r\n                    deleteTag(tag.id);\r\n                }}>删除标签</Button>\r\n            </Center>\r\n        </div>\r\n    );\r\n\r\n\r\n    return (\r\n        <Layout>\r\n            <Topbar>\r\n                <Icon name=\"left\" onClick={onClickBack}/>\r\n                <span>编辑标签</span>\r\n                <Icon/>\r\n            </Topbar>\r\n            {tag ? tagContent(tag) : <Center>tag 不存在</Center>}\r\n        </Layout>\r\n    );\r\n};\r\n\r\n\r\nexport {Tag};\r\n","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport Money from \"views/Money\";\nimport Statistics from \"views/Statistics\";\nimport Tags from \"views/Tags\";\nimport NoMatch from \"views/NoMatch\";\nimport {Tag} from \"./views/tag\";\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/detail\" exact>\n          <Money />\n        </Route>\n        <Route path=\"/tags\" exact>\n          <Tags />\n        </Route>\n\n        <Route path=\"/tags/:id\" exact>\n          <Tag />\n        </Route>\n        <Route path=\"/money\" exact>\n          <Statistics />\n        </Route>\n        <Route exact from=\"/\">\n          <Redirect to=\"/detail\" />\n        </Route>\n        <Route path=\"*\" exact>\n          <NoMatch />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"index.scss\";\n\nReactDOM.render(\n    <App />\n,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}